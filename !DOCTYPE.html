<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>School Transfer Certificate - Sanskar Junior High School</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  :root {
    --page-width: 210mm;
    --page-height: 297mm;
    --border-color: #000;
    --font-main: "Times New Roman", "Nimbus Roman", "Liberation Serif", serif;
    --text-color: #000;
  }

  * {
    box-sizing: border-box;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  html,
  body {
    margin: 0;
    padding: 0;
    background: #e5e5e5;
    font-family: var(--font-main);
    color: var(--text-color);
  }

  body {
    display: flex;
    min-height: 100vh;
  }

  /* Layout */

  .app {
    display: flex;
    flex: 1;
    padding: 12px;
    gap: 12px;
  }

  .controls-panel {
    width: 320px;
    max-width: 100%;
    background: #ffffff;
    border: 1px solid #ccc;
    padding: 12px;
    overflow: auto;
    font-size: 12px;
  }

  .controls-panel h2 {
    margin: 0 0 8px;
    font-size: 16px;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  .controls-panel h3 {
    margin: 12px 0 4px;
    font-size: 13px;
    border-bottom: 1px solid #000;
    padding-bottom: 2px;
  }

  .form-row {
    display: flex;
    flex-direction: column;
    margin-bottom: 6px;
  }

  .form-row label {
    font-size: 11px;
    margin-bottom: 2px;
  }

  .form-row input,
  .form-row textarea,
  .form-row select {
    font-family: var(--font-main);
    font-size: 11px;
    padding: 3px 4px;
    border: 1px solid #999;
    border-radius: 2px;
    width: 100%;
  }

  .form-row textarea {
    resize: vertical;
    min-height: 40px;
  }

  .inline-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4px;
  }

  .actions {
    display: flex;
    gap: 6px;
    margin-top: 8px;
    flex-wrap: wrap;
  }

  .actions button {
    flex: 1;
    font-family: var(--font-main);
    font-size: 12px;
    padding: 5px 8px;
    border-radius: 2px;
    border: 1px solid #000;
    background: #f5f5f5;
    cursor: pointer;
  }

  .actions button:hover {
    background: #e0e0e0;
  }

  .hint {
    font-size: 10px;
    color: #444;
    margin-top: 4px;
    line-height: 1.3;
  }

  .file-input {
    font-size: 10px;
  }

  /* Certificate page */

  .page-wrapper {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    overflow: auto;
  }

  .page {
    position: relative;
    width: var(--page-width);
    height: var(--page-height);
    background: #ffffff;
    color: #000000;
    margin: auto;
    box-shadow: 0 0 0.8mm rgba(0, 0, 0, 0.3);
  }

  /* Borders: double-line outer border */

  .page::before,
  .page::after {
    content: "";
    position: absolute;
    border: 1px solid var(--border-color);
    pointer-events: none;
  }

  .page::before {
    top: 4mm;
    left: 4mm;
    right: 4mm;
    bottom: 4mm;
  }

  .page::after {
    top: 7mm;
    left: 7mm;
    right: 7mm;
    bottom: 7mm;
  }

  .page-inner {
    position: absolute;
    top: 10mm;
    left: 12mm;
    right: 12mm;
    bottom: 10mm;
    font-size: 11pt;
    line-height: 1.3;
  }

  /* Header */

  .header-row {
    display: grid;
    grid-template-columns: 28mm auto 28mm;
    align-items: center;
    margin-bottom: 2mm;
  }

  .logo-box,
  .qr-box {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .logo {
    width: 24mm;
    height: 24mm;
    border-radius: 50%;
    border: 1px solid #000;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 8pt;
    text-align: center;
  }

  .logo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .qr {
    width: 24mm;
    height: 24mm;
    border: 1px solid #000;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 8pt;
    text-align: center;
  }

  .qr img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .school-heading {
    text-align: center;
  }

  .school-name {
    font-size: 16pt;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .school-sub {
    font-size: 10pt;
    margin-top: 2px;
  }

  .school-aff {
    font-size: 9pt;
    margin-top: 1px;
  }

  .header-contact {
    font-size: 9pt;
    text-align: center;
    margin-top: 2mm;
    border-top: 1px solid #000;
    padding-top: 1mm;
  }

  /* Title box */

  .title-box {
    margin-top: 3mm;
    margin-bottom: 3mm;
    border: 1px solid #000;
    padding: 2mm 4mm;
    text-align: center;
    font-weight: bold;
    font-size: 12pt;
  }

  .title-box div {
    line-height: 1.2;
  }

  /* Numbering section */

  .numbering-row {
    display: grid;
    grid-template-columns: 1.5fr 1.5fr;
    column-gap: 20mm;
    font-size: 10pt;
    margin-bottom: 2mm;
  }

  .num-group {
    display: flex;
    flex-direction: column;
    gap: 1mm;
  }

  .num-item {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
  }

  .num-label {
    white-space: nowrap;
    margin-right: 2mm;
  }

  .num-value {
    flex: 1;
    border-bottom: 1px dotted #000;
    min-width: 25mm;
    text-align: left;
    padding-bottom: 0.2mm;
    margin-left: 1mm;
  }

  /* Body fields */

  .fields {
    font-size: 10pt;
    margin-top: 2mm;
  }

  .field-row {
    display: flex;
    align-items: baseline;
    margin-bottom: 1.2mm;
  }

  .field-number {
    width: 6mm;
  }

  .field-label {
    min-width: 58mm;
  }

  .field-label span {
    display: inline-block;
  }

  .field-label .en {
    margin-left: 2mm;
  }

  .field-dots {
    flex: 1;
    border-bottom: 1px dotted #000;
    margin-left: 2mm;
    padding-bottom: 0.2mm;
  }

  .field-inline-note {
    font-size: 9pt;
    margin-left: 2mm;
  }

  .field-twin {
    display: flex;
    flex: 1;
    gap: 4mm;
    margin-left: 2mm;
  }

  .field-twin-part {
    flex: 1;
    display: flex;
    align-items: baseline;
  }

  .field-twin-label {
    white-space: nowrap;
    margin-right: 2mm;
  }

  .field-twin-dots {
    flex: 1;
    border-bottom: 1px dotted #000;
    padding-bottom: 0.2mm;
  }

  /* Footer signatures */

  .footer {
    position: absolute;
    left: 12mm;
    right: 12mm;
    bottom: 10mm;
    font-size: 10pt;
  }

  .footer-signatures {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    column-gap: 12mm;
    margin-top: 8mm;
  }

  .sig-block {
    text-align: center;
    font-size: 9pt;
  }

  .sig-line {
    border-top: 1px solid #000;
    margin-bottom: 1mm;
    padding-top: 1mm;
  }

  .footer-note {
    font-size: 8pt;
    text-align: left;
    margin-top: 6mm;
    display: flex;
    justify-content: space-between;
  }

  .footer-note span {
    white-space: nowrap;
  }

  /* Values binding */

  .val {
    white-space: nowrap;
  }
  .val-wrap {
    white-space: normal;
  }

  /* Print styles */

  @page {
    size: A4 portrait;
    margin: 0;
  }

  @media print {
    body {
      background: #ffffff;
    }

    .app {
      padding: 0;
    }

    .controls-panel {
      display: none !important;
    }

    .page-wrapper {
      margin: 0;
      padding: 0;
      box-shadow: none;
    }

    .page {
      margin: 0;
      box-shadow: none;
      page-break-inside: avoid;
      page-break-after: avoid;
    }

    .page::before,
    .page::after {
      box-shadow: none;
    }
  }

  /* Small screens */

  @media (max-width: 900px) {
    .app {
      flex-direction: column-reverse;
    }
    .controls-panel {
      width: 100%;
      max-height: 50vh;
    }
    .page-wrapper {
      width: 100%;
      overflow-x: auto;
   }
</style>
</head>
<body>
<div class="app">
  <div class="controls-panel" id="controls">
    <h2>Transfer Certificate Editor</h2>

    <h3>School Details</h3>
    <div class="form-row">
      <label>School Name</label>
      <input id="inpSchoolName" type="text" value="SANSKAR JUNIOR HIGH SCHOOL" />
    </div>
    <div class="form-row">
      <label>Address Line</label>
      <input id="inpSchoolAddr" type="text" value="SHASTRINAGAR BALLIA, 277001 U.P." />
    </div>
    <div class="form-row">
      <label>Affiliation Line</label>
      <input id="inpSchoolAff" type="text" value="Basic Shiksha Parishad Affiliated" />
    </div>
    <div class="form-row">
      <label>Contact Line</label>
      <input id="inpContact" type="text" value="Email: sanskarjuniorhighschool@gmail.com | Contact: 9838528470, 9721760309 | UDISE Code: 09631802301" />
    </div>

    <h3>Uploads</h3>
    <div class="form-row">
      <label>School Logo (square)</label>
      <input id="logoInput" class="file-input" type="file" accept="image/*" />
    </div>
    <div class="form-row">
      <label>QR Code Image</label>
      <input id="qrInput" class="file-input" type="file" accept="image/*" />
    </div>

    <h3>Numbering</h3>
    <div class="inline-2">
      <div class="form-row">
        <label>Book No.</label>
        <input id="inpBookNo" type="text" value="SJHS/2526/011" />
      </div>
      <div class="form-row">
        <label>Admission No.</label>
        <input id="inpAdmNo" type="text" value="2022" />
      </div>
    </div>
    <div class="inline-2">
      <div class="form-row">
        <label>T.C. No.</label>
        <input id="inpTCNo" type="text" value="TC/2526/038" />
      </div>
      <div class="form-row">
        <label>P.E.N. No.</label>
        <input id="inpPenNo" type="text" value="UPB1234567" />
      </div>
    </div>

    <h3>Student Details</h3>
    <div class="form-row">
      <label>1. Name of the Pupil</label>
      <input id="inpName" type="text" value="AMAN KUMAR" />
    </div>
    <div class="form-row">
      <label>2. Mother's Name</label>
      <input id="inpMother" type="text" value="SMT. SUNITA DEVI" />
    </div>
    <div class="form-row">
      <label>3. Father's Name</label>
      <input id="inpFather" type="text" value="SHRI RAJESH PRASAD" />
    </div>
    <div class="form-row">
      <label>4. Nationality</label>
      <input id="inpNationality" type="text" value="INDIAN" />
    </div>
    <div class="form-row">
      <label>5. Category</label>
      <input id="inpCategory" type="text" value="OBC" />
    </div>
    <div class="form-row">
      <label>6. Date of Birth (DD/MM/YYYY)</label>
      <input id="inpDob" type="text" value="15/08/2014" />
      <div class="hint">Will auto-generate date of birth in words.</div>
    </div>

    <div class="form-row">
      <label>7. Whether the student failed</label>
      <input id="inpFailed" type="text" value="NO" />
    </div>
    <div class="form-row">
      <label>8. Subjects Offered</label>
      <textarea id="inpSubjects">Hindi, English, Mathematics, Science, Social Science, Sanskrit, Environment Education, Sports & Physical, Art, Moral Education, Crafts</textarea>
    </div>
    <div class="form-row">
      <label>9. Date of Admission in School with Class (DD/MM/YYYY, Class)</label>
      <input id="inpAdmDate" type="text" value="04/04/2025, CLASS I" />
    </div>
    <div class="form-row">
      <label>10. Class last studied (number + words)</label>
      <input id="inpClassLast" type="text" value="V (FIFTH)" />
    </div>
    <div class="form-row">
      <label>11. Annual Examination last taken with Result</label>
      <input id="inpAnnualExam" type="text" value="ANNUAL EXAMINATION 2025-26 - PASSED" />
    </div>
    <div class="form-row">
      <label>12. Qualified for promotion to next class</label>
      <input id="inpPromotion" type="text" value="YES, PROMOTED TO CLASS VI (SIXTH)" />
    </div>
    <div class="form-row">
      <label>13. All dues paid</label>
      <input id="inpDues" type="text" value="YES" />
    </div>
    <div class="form-row">
      <label>14. Any fee concession</label>
      <input id="inpConcession" type="text" value="NO" />
    </div>
    <div class="form-row">
      <label>15. NCC / Scout / Guide</label>
      <input id="inpNcc" type="text" value="NIL" />
    </div>
    <div class="form-row">
      <label>16. Date of struck off from rolls (DD/MM/YYYY)</label>
      <input id="inpStruck" type="text" value="01/04/2026" />
    </div>
    <div class="form-row">
      <label>17. Reason for leaving school</label>
      <input id="inpReason" type="text" value="FOR HIGHER STUDY" />
    </div>
    <div class="inline-2">
      <div class="form-row">
        <label>18. No. of meetings up to date</label>
        <input id="inpMeetings" type="text" value="220" />
      </div>
      <div class="form-row">
        <label>19. No. of school days attended</label>
        <input id="inpAttendance" type="text" value="206" />
      </div>
    </div>
    <div class="form-row">
      <label>20. General Conduct</label>
      <input id="inpConduct" type="text" value="GOOD" />
    </div>
    <div class="form-row">
      <label>21. School Category</label>
      <input id="inpSchoolCat" type="text" value="JUNIOR HIGH SCHOOL" />
    </div>
    <div class="form-row">
      <label>22. Any other Remark</label>
      <input id="inpRemark" type="text" value="N/A" />
    </div>
    <div class="form-row">
      <label>23. Certificate Date of Issue (DD/MM/YYYY)</label>
      <input id="inpIssueDate" type="text" value="05/04/2024" />
    </div>

    <h3>Footer</h3>
    <div class="form-row">
      <label>Prepared By</label>
      <input id="inpPrepared" type="text" value="(Signature)" />
    </div>
    <div class="form-row">
      <label>Checked By (Clerk)</label>
      <input id="inpChecked" type="text" value="(Signature)" />
    </div>
    <div class="form-row">
      <label>Principal</label>
      <input id="inpPrincipal" type="text" value="(Principal with Official Seal)" />
    </div>
    <div class="form-row">
      <label>Bottom Note</label>
      <input id="inpBottomNote" type="text" value="यह प्रमाण-पत्र कम्प्यूटर जारा जारी किया गया है / This certificate is computer generated" />
    </div>

    <div class="actions">
      <button type="button" onclick="window.print()">Print</button>
      <button type="button" id="btnPdf">Download PDF</button>
      <button type="button" onclick="resetStudentOnly()">
  Reset Student Details
</button>
    </div>
    <div class="hint">
      PDF download uses browser print to PDF. When dialog opens, choose "Save as PDF" and ensure A4, portrait, and no margins.
    </div>
  </div>

  <div class="page-wrapper">
    <div class="page" id="tcPage">
      <div class="page-inner">
        <!-- Header -->
        <div class="header-row">
          <div class="logo-box">
            <div class="logo" id="logoPreview">
              LOGO
            </div>
          </div>
          <div class="school-heading">
            <div class="school-name" id="schoolNameView">SANSKAR JUNIOR HIGH SCHOOL</div>
            <div class="school-sub" id="schoolAddrView">SHASTRINAGAR BALLIA, 277001 U.P.</div>
            <div class="school-aff" id="schoolAffView">Basic Shiksha Parishad Affiliated</div>
          </div>
          <div class="qr-box">
            <div class="qr" id="qrPreview">
              QR CODE
            </div>
          </div>
        </div>
        <div class="header-contact" id="contactView">
          Email: sanskarjuniorhighschool@gmail.com | Contact: 9838528470, 9721760309 |  UDISE Code: 09631802301
        </div>

        <!-- Title -->
        <div class="title-box">
          <div>स्थानांतरण प्रमाण-पत्र / TRANSFER CERTIFICATE</div>
        </div>

        <!-- Numbering Section -->
        <div class="numbering-row">
          <div class="num-group">
            <div class="num-item">
              <span class="num-label">Book No.</span>
              <span class="num-value val" id="bookNoView">SJHS/2526/011</span>
            </div>
            <div class="num-item">
              <span class="num-label">Admission No.</span>
              <span class="num-value val" id="admNoView">2022</span>
            </div>
          </div>
          <div class="num-group">
            <div class="num-item">
              <span class="num-label">T.C. No.</span>
              <span class="num-value val" id="tcNoView">TC/2526/038</span>
            </div>
            <div class="num-item">
              <span class="num-label">P.E.N. No.</span>
              <span class="num-value val" id="penNoView">UPB1234567</span>
            </div>
          </div>
        </div>

        <!-- Body Fields -->
        <div class="fields">
          <div class="field-row">
            <div class="field-number">1.</div>
            <div class="field-label">
              <span class="hi">विद्यार्थी का नाम</span>
              <span class="en">/ Name of the Pupil</span>
            </div>
            <div class="field-dots val" id="nameView">AMAN KUMAR</div>
          </div>

          <div class="field-row">
            <div class="field-number">2.</div>
            <div class="field-label">
              <span class="hi">माता का नाम</span>
              <span class="en">/ Mother's Name</span>
            </div>
            <div class="field-dots val" id="motherView">SMT. SUNITA DEVI</div>
          </div>

          <div class="field-row">
            <div class="field-number">3.</div>
            <div class="field-label">
              <span class="hi">पिता का नाम</span>
              <span class="en">/ Father's Name</span>
            </div>
            <div class="field-dots val" id="fatherView">SHRI RAJESH PRASAD</div>
          </div>

          <div class="field-row">
            <div class="field-number">4.</div>
            <div class="field-label">
              <span class="hi">राष्ट्रीयता</span>
              <span class="en">/ Nationality</span>
            </div>
            <div class="field-dots val" id="nationalityView">INDIAN</div>
          </div>

          <div class="field-row">
            <div class="field-number">5.</div>
            <div class="field-label">
              <span class="hi">वर्ग (अनुसूचित जाति / जनजाति / अन्य पिछड़ा / सामान्य)</span>
              <span class="en">/ Category (SC/ST/OBC/GEN)</span>
            </div>
            <div class="field-dots val" id="categoryView">OBC</div>
          </div>

          <div class="field-row">
            <div class="field-number">6.</div>
            <div class="field-label">
              <span class="hi">जन्म तिथि (अंकों में - दिन/माह/वर्ष)</span>
              <span class="en">/ Date of Birth (Figures – DD/MM/YYYY)</span>
            </div>
            <div class="field-twin">
              <div class="field-twin-part">
                <div class="field-twin-dots val" id="dobView">15/08/2014</div>
              </div>
            </div>
          </div>

          <div class="field-row" style="margin-top:0;">
            <div class="field-number"></div>
            <div class="field-label">
              <span class="hi">जन्म तिथि (शब्दों में)</span>
              <span class="en">/ Date of Birth (Words)</span>
            </div>
            <div class="field-dots val-wrap" id="dobWordsView">FIFTEENTH AUGUST TWO THOUSAND FOURTEEN</div>
          </div>

          <div class="field-row">
            <div class="field-number">7.</div>
            <div class="field-label">
              <span class="hi">क्या विद्यार्थी अनुत्तीर्ण हुआ है</span>
              <span class="en">/ Whether the student failed</span>
            </div>
            <div class="field-dots val" id="failedView">NO</div>
          </div>

          <div class="field-row">
            <div class="field-number">8.</div>
            <div class="field-label">
              <span class="hi">पढ़ाए गए विषय</span>
              <span class="en">/ Subjects Offered</span>
            </div>
            <div class="field-dots val-wrap" id="subjectsView">Hindi, English, Mathematics, Science, Social Science, Sanskrit, Environment Education, Sports & Physical, Art, Moral Education, Crafts</div>
          </div>

          <div class="field-row">
            <div class="field-number">9.</div>
            <div class="field-label">
              <span class="hi">विद्यालय में प्रवेश दिनांक एवं कक्षा</span>
              <span class="en">/ Date of Admission in School with Class</span>
            </div>
            <div class="field-dots val-wrap" id="admDateView">04/04/2025, CLASS I</div>
          </div>

          <div class="field-row">
            <div class="field-number">10.</div>
            <div class="field-label">
              <span class="hi">अंतिम कक्षा जिसमें पढ़ा (संख्या एवं शब्दों में)</span>
              <span class="en">/ Class last studied (number + words)</span>
            </div>
            <div class="field-dots val-wrap" id="classLastView">V (FIFTH)</div>
          </div>

          <div class="field-row">
            <div class="field-number">11.</div>
            <div class="field-label">
              <span class="hi">अंतिम वार्षिक परीक्षा एवं परिणाम</span>
              <span class="en">/ Annual Examination last taken with Result</span>
            </div>
            <div class="field-dots val-wrap" id="annualExamView">ANNUAL EXAMINATION 2025-26 - PASSED</div>
          </div>

          <div class="field-row">
            <div class="field-number">12.</div>
            <div class="field-label">
              <span class="hi">अगली कक्षा में प्रवेश के लिए योग्य</span>
              <span class="en">/ Qualified for promotion</span>
            </div>
            <div class="field-dots val-wrap" id="promotionView">YES, PROMOTED TO CLASS VI (SIXTH)</div>
          </div>

          <div class="field-row">
            <div class="field-number">13.</div>
            <div class="field-label">
              <span class="hi">सभी देय राशि जमा</span>
              <span class="en">/ All dues paid</span>
            </div>
            <div class="field-dots val" id="duesView">YES</div>
          </div>

          <div class="field-row">
            <div class="field-number">14.</div>
            <div class="field-label">
              <span class="hi">कोई शुल्क रियायत</span>
              <span class="en">/ Any fee concession</span>
            </div>
            <div class="field-dots val" id="concessionView">NO</div>
          </div>

          <div class="field-row">
            <div class="field-number">15.</div>
            <div class="field-label">
              <span class="hi">एन.सी.सी / स्काउट / गाइड</span>
              <span class="en">/ NCC / Scout / Guide</span>
            </div>
            <div class="field-dots val" id="nccView">NIL</div>
          </div>

          <div class="field-row">
            <div class="field-number">16.</div>
            <div class="field-label">
              <span class="hi">नाम हटाने की दिनांक</span>
              <span class="en">/ Date of struck off from rolls</span>
            </div>
            <div class="field-dots val" id="struckView">01/04/2026</div>
          </div>

          <div class="field-row">
            <div class="field-number">17.</div>
            <div class="field-label">
              <span class="hi">विद्यालय छोड़ने का कारण</span>
              <span class="en">/ Reason for leaving school</span>
            </div>
            <div class="field-dots val-wrap" id="reasonView">FOR HIGHER STUDY</div>
          </div>

          <div class="field-row">
            <div class="field-number">18.</div>
            <div class="field-label">
              <span class="hi">अब तक की कुल बैठकें</span>
              <span class="en">/ No. of meetings up to date</span>
            </div>
            <div class="field-dots val" id="meetingsView">220</div>
          </div>

          <div class="field-row">
            <div class="field-number">19.</div>
            <div class="field-label">
              <span class="hi">उपस्थित स्कूल दिवस</span>
              <span class="en">/ No. of school days attended</span>
            </div>
            <div class="field-dots val" id="attendanceView">206</div>
          </div>

          <div class="field-row">
            <div class="field-number">20.</div>
            <div class="field-label">
              <span class="hi">सामान्य आचरण</span>
              <span class="en">/ General Conduct</span>
            </div>
            <div class="field-dots val" id="conductView">GOOD</div>
          </div>

          <div class="field-row">
            <div class="field-number">21.</div>
            <div class="field-label">
              <span class="hi">विद्यालय की श्रेणी</span>
              <span class="en">/ School Category</span>
            </div>
            <div class="field-dots val-wrap" id="schoolCatView">JUNIOR HIGH SCHOOL</div>
          </div>

          <div class="field-row">
            <div class="field-number">22.</div>
            <div class="field-label">
              <span class="hi">अन्य कोई टिप्पणी</span>
              <span class="en">/ Any other Remark</span>
            </div>
            <div class="field-dots val-wrap" id="remarkView">N/A</div>
          </div>

          <div class="field-row">
            <div class="field-number">23.</div>
            <div class="field-label">
              <span class="hi">प्रमाण-पत्र निर्गम दिनांक</span>
              <span class="en">/ Certificate Date of Issue</span>
            </div>
            <div class="field-dots val" id="issueDateView">24/02/2026</div>
          </div>
        </div>

        <!-- Footer -->
        <div class="footer">
          <div class="footer-signatures">
            <div class="sig-block">
              <div class="sig-line"></div>
              <div>तैयार करने वाला</div>
              <div>/ Prepared By</div>
              <div class="val" id="preparedView">(Signature)</div>
            </div>
            <div class="sig-block">
              <div class="sig-line"></div>
              <div>जाँचकर्ता (क्लर्क)</div>
              <div>/ Checked By (Clerk)</div>
              <div class="val" id="checkedView">(Signature)</div>
            </div>
            <div class="sig-block">
              <div class="sig-line"></div>
              <div>प्रधानाचार्य के हस्ताक्षर</div>
              <div>/ Signature of Principal</div>
              <div class="val" id="principalView">(Principal with Official Seal)</div>
            </div>
          </div>

          <div class="footer-note">
            <span id="bottomNoteView">यह प्रमाण-पत्र कम्प्यूटर जारा जारी किया गया है / This certificate is computer generated</span>
            <span id="printDateView">Date of Print: </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Helper: bind input to view
  function bind(idInput, idView) {
    var inp = document.getElementById(idInput);
    var view = document.getElementById(idView);
    if (!inp || !view) return;
    function sync() {
      view.textContent = inp.value;
    }
    inp.addEventListener("input", sync);
  }

  // Date to words (English, uppercase)
  function numberToWords(n) {
    n = parseInt(n, 10);
    if (isNaN(n)) return "";
    const below20 = [
      "",
      "ONE",
      "TWO",
      "THREE",
      "FOUR",
      "FIVE",
      "SIX",
      "SEVEN",
      "EIGHT",
      "NINE",
      "TEN",
      "ELEVEN",
      "TWELVE",
      "THIRTEEN",
      "FOURTEEN",
      "FIFTEEN",
      "SIXTEEN",
      "SEVENTEEN",
      "EIGHTEEN",
      "NINETEEN"
    ];
    const tens = [
      "",
      "",
      "TWENTY",
      "THIRTY",
      "FORTY",
      "FIFTY",
      "SIXTY",
      "SEVENTY",
      "EIGHTY",
      "NINETY"
    ];
    if (n < 20) return below20[n];
    if (n < 100) {
      return tens[Math.floor(n / 10)] + (n % 10 ? " " + below20[n % 10] : "");
    }
    if (n < 1000) {
      return (
        below20[Math.floor(n / 100)] +
        " HUNDRED" +
        (n % 100 ? " " + numberToWords(n % 100) : "")
      );
    }
    if (n < 1000000) {
      return (
        numberToWords(Math.floor(n / 1000)) +
        " THOUSAND" +
        (n % 1000 ? " " + numberToWords(n % 1000) : "")
      );
    }
    return n.toString();
  }

  function dayOrdinalWord(d) {
    const map = {
      1: "FIRST",
      2: "SECOND",
      3: "THIRD",
      4: "FOURTH",
      5: "FIFTH",
      6: "SIXTH",
      7: "SEVENTH",
      8: "EIGHTH",
      9: "NINTH",
      10: "TENTH",
      11: "ELEVENTH",
      12: "TWELFTH",
      13: "THIRTEENTH",
      14: "FOURTEENTH",
      15: "FIFTEENTH",
      16: "SIXTEENTH",
      17: "SEVENTEENTH",
      18: "EIGHTEENTH",
      19: "NINETEENTH",
      20: "TWENTIETH",
      21: "TWENTY FIRST",
      22: "TWENTY SECOND",
      23: "TWENTY THIRD",
      24: "TWENTY FOURTH",
      25: "TWENTY FIFTH",
      26: "TWENTY SIXTH",
      27: "TWENTY SEVENTH",
      28: "TWENTY EIGHTH",
      29: "TWENTY NINTH",
      30: "THIRTIETH",
      31: "THIRTY FIRST"
    };
    return map[d] || numberToWords(d);
  }

  function monthWord(m) {
    const months = [
      "JANUARY",
      "FEBRUARY",
      "MARCH",
      "APRIL",
      "MAY",
      "JUNE",
      "JULY",
      "AUGUST",
      "SEPTEMBER",
      "OCTOBER",
      "NOVEMBER",
      "DECEMBER"
    ];
    return months[m - 1] || "";
  }

  function dateToWords(dmy) {
    const parts = dmy.split("/");
    if (parts.length !== 3) return "";
    const d = parseInt(parts[0], 10);
    const m = parseInt(parts[1], 10);
    const y = parseInt(parts[2], 10);
    if (
      isNaN(d) ||
      isNaN(m) ||
      isNaN(y) ||
      d < 1 ||
      d > 31 ||
      m < 1 ||
      m > 12
    )
      return "";
    const dayW = dayOrdinalWord(d);
    const monthW = monthWord(m);
    const yearW = numberToWords(y);
    return (dayW + " " + monthW + " " + yearW).trim();
  }

  function setupDOB() {
    const inpDob = document.getElementById("inpDob");
    const dobView = document.getElementById("dobView");
    const dobWordsView = document.getElementById("dobWordsView");
    function syncDob() {
      const v = inpDob.value.trim();
      dobView.textContent = v;
      const words = dateToWords(v);
      if (words) {
        dobWordsView.textContent = words;
      } else {
        dobWordsView.textContent = "";
      }
    }
    inpDob.addEventListener("input", syncDob);
    syncDob();
  }

  // Image preview
  function bindImage(inputId, previewId) {
    const inp = document.getElementById(inputId);
    const preview = document.getElementById(previewId);
    if (!inp || !preview) return;
    inp.addEventListener("change", function () {
      const file = inp.files && inp.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function (e) {
        preview.innerHTML =
          '<img src="' + String(e.target.result) + '" alt="preview" />';
      };
      reader.readAsDataURL(file);
    });
  }

  // Print date
  function updatePrintDate() {
    const el = document.getElementById("printDateView");
    const now = new Date();
    const dd = String(now.getDate()).padStart(2, "0");
    const mm = String(now.getMonth() + 1).padStart(2, "0");
    const yyyy = now.getFullYear();
    el.textContent = "Date of Print: " + dd + "/" + mm + "/" + yyyy;
  }

  // "Download PDF" just triggers print dialog
  document.getElementById("btnPdf").addEventListener("click", function () {
    window.print();
  });
  // Initial bindings
  window.addEventListener("DOMContentLoaded", function () {
    bind("inpSchoolName", "schoolNameView");
    bind("inpSchoolAddr", "schoolAddrView");
    bind("inpSchoolAff", "schoolAffView");
    bind("inpContact", "contactView");

    bind("inpBookNo", "bookNoView");
    bind("inpAdmNo", "admNoView");
    bind("inpTCNo", "tcNoView");
    bind("inpPenNo", "penNoView");

    bind("inpName", "nameView");
    bind("inpMother", "motherView");
    bind("inpFather", "fatherView");
    bind("inpNationality", "nationalityView");
    bind("inpCategory", "categoryView");
    bind("inpFailed", "failedView");
    bind("inpSubjects", "subjectsView");
    bind("inpAdmDate", "admDateView");
    bind("inpClassLast", "classLastView");
    bind("inpAnnualExam", "annualExamView");
    bind("inpPromotion", "promotionView");
    bind("inpDues", "duesView");
    bind("inpConcession", "concessionView");
    bind("inpNcc", "nccView");
    bind("inpStruck", "struckView");
    bind("inpReason", "reasonView");
    bind("inpMeetings", "meetingsView");
    bind("inpAttendance", "attendanceView");
    bind("inpConduct", "conductView");
    bind("inpSchoolCat", "schoolCatView");
    bind("inpRemark", "remarkView");
    bind("inpIssueDate", "issueDateView");

    bind("inpPrepared", "preparedView");
    bind("inpChecked", "checkedView");
    bind("inpPrincipal", "principalView");
    bind("inpBottomNote", "bottomNoteView");

    setupDOB();
    bindImage("logoInput", "logoPreview");
    bindImage("qrInput", "qrPreview");
    updatePrintDate();
  });
function resetStudentOnly() {
  if (!confirm("Only STUDENT DETAILS will be cleared. Continue?")) return;

  // ✅ Student input IDs list
  const studentInputs = [
    "inpName",
    "inpMother",
    "inpFather",
    "inpCategory",
    "inpDateofBirth",
    "inpFailed",
    "inpAdmDate",
    "inpClassLast",
  ];

  // Clear student inputs
  studentInputs.forEach(id => {
    const el = document.getElementById(id);
    if (el) el.value = "";
  });

  // ✅ Student preview IDs list
  const studentViews = [
    "nameView",
    "motherView",
    "fatherView",
    "categoryView",
    "DateofBirthView",
    "failedView",
    "admDateView",
    "classLastView",
  ];

  // Clear previews
  studentViews.forEach(id => {
    const v = document.getElementById(id);
    if (v) v.textContent = "";
  });
}
</script>
</body>
</html>